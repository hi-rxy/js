{"remainingRequest":"D:\\wwwroot\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js!D:\\wwwroot\\vue-admin-template\\src\\permission.js","dependencies":[{"path":"D:\\wwwroot\\vue-admin-template\\src\\permission.js","mtime":1646579182422},{"path":"D:\\wwwroot\\vue-admin-template\\babel.config.js","mtime":1645316547015},{"path":"D:\\wwwroot\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645316876002},{"path":"D:\\wwwroot\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js","mtime":1645316878558}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovd3d3cm9vdC92dWUtYWRtaW4tdGVtcGxhdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovd3d3cm9vdC92dWUtYWRtaW4tdGVtcGxhdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVyJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4vc3RvcmUnOwppbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAnZWxlbWVudC11aSc7CmltcG9ydCBOUHJvZ3Jlc3MgZnJvbSAnbnByb2dyZXNzJzsgLy8gcHJvZ3Jlc3MgYmFyCgppbXBvcnQgJ25wcm9ncmVzcy9ucHJvZ3Jlc3MuY3NzJzsgLy8gcHJvZ3Jlc3MgYmFyIHN0eWxlCgppbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7IC8vIGdldCB0b2tlbiBmcm9tIGNvb2tpZQoKaW1wb3J0IGdldFBhZ2VUaXRsZSBmcm9tICdAL3V0aWxzL2dldC1wYWdlLXRpdGxlJzsKTlByb2dyZXNzLmNvbmZpZ3VyZSh7CiAgc2hvd1NwaW5uZXI6IGZhbHNlCn0pOyAvLyBOUHJvZ3Jlc3MgQ29uZmlndXJhdGlvbgoKdmFyIHdoaXRlTGlzdCA9IFsnL2xvZ2luJ107IC8vIG5vIHJlZGlyZWN0IHdoaXRlbGlzdAoKcm91dGVyLmJlZm9yZUVhY2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodG8sIGZyb20sIG5leHQpIHsKICAgIHZhciBoYXNUb2tlbiwgaGFzR2V0VXNlckluZm8sIHJlc3VsdCwgcm9sZXM7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCc9PT7ot6/nlLHpkqnlrZDlvIDlp4tbLi9zcmMvcGVybWlzc2lvbi5qc10nKTsgLy8gc3RhcnQgcHJvZ3Jlc3MgYmFyCgogICAgICAgICAgICBOUHJvZ3Jlc3Muc3RhcnQoKTsgLy8gc2V0IHBhZ2UgdGl0bGUKCiAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gZ2V0UGFnZVRpdGxlKHRvLm1ldGEudGl0bGUpOyAvLyBkZXRlcm1pbmUgd2hldGhlciB0aGUgdXNlciBoYXMgbG9nZ2VkIGluCgogICAgICAgICAgICBoYXNUb2tlbiA9IGdldFRva2VuKCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfjgJAuL3NyYy9wZXJtaXNzaW9uLmpz44CRMeOAgeivu+WPlnRva2Vu77yaJywgaGFzVG9rZW4pOwoKICAgICAgICAgICAgaWYgKCFoYXNUb2tlbikgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCEodG8ucGF0aCA9PT0gJy9sb2dpbicpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBpZiBpcyBsb2dnZWQgaW4sIHJlZGlyZWN0IHRvIHRoZSBob21lIHBhZ2UKICAgICAgICAgICAgbmV4dCh7CiAgICAgICAgICAgICAgcGF0aDogJy8nCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBOUHJvZ3Jlc3MuZG9uZSgpOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzQ7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgIGhhc0dldFVzZXJJbmZvID0gc3RvcmUuZ2V0dGVycy5uYW1lOyAvL2NvbnNvbGUubG9nKCfjgJAuL3NyYy9wZXJtaXNzaW9uLmpz44CRMuOAgXZ1ZXggc3RhdGUgdXNlci5uYW1lIO+8micsaGFzR2V0VXNlckluZm8sdHlwZW9mIChoYXNHZXRVc2VySW5mbykpCgogICAgICAgICAgICBpZiAoIWhhc0dldFVzZXJJbmZvKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNDsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE2OwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTk7CiAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgndXNlci9nZXRJbmZvJyk7CgogICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgY29uc29sZS5sb2coJ+OAkC4vc3JjL3Blcm1pc3Npb24uanPjgJEy44CB5ouJ5Y+W5pyA5paw55So5oi35L+h5oGv77yaJywgcmVzdWx0KTsKICAgICAgICAgICAgcm9sZXMgPSByZXN1bHQucm9sZXM7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfjgJAuL3NyYy9wZXJtaXNzaW9uLmpz44CRM+OAgeiOt+WPlueUqOaIt+aJgOWxnuinkuiJsu+8micsIHJvbGVzKTsKICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ3Blcm1pc3Npb24vZ2VuZXJhdGVSb3V0ZXMnLCB7CiAgICAgICAgICAgICAgcm9sZXM6IHJvbGVzCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIHZhciBhY2Nlc3NSb3V0ZXMgPSBzdG9yZS5nZXR0ZXJzLnBlcm1pc3Npb25fYWRkUm91dGVzOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfjgJAuL3NyYy9wZXJtaXNzaW9uLmpz44CRN+OAgeS9v+eUqCByb3V0ZXIuYWRkUm91dGVycyDmlrnms5Ug5re75Yqg5Y+v6K6/6Zeu55qE6Lev55Sx6KGo77yaJywgYWNjZXNzUm91dGVzKTsKICAgICAgICAgICAgICByb3V0ZXIuYWRkUm91dGVzKGFjY2Vzc1JvdXRlcyk7IC8vIOWKqOaAgea3u+WKoOWPr+iuv+mXrui3r+eUseihqAoKICAgICAgICAgICAgICBuZXh0KF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdG8pLCB7fSwgewogICAgICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZQogICAgICAgICAgICAgIH0pKTsgLy8gaGFja+aWueazlSDnoa7kv51hZGRSb3V0ZXPlt7LlrozmiJAgLHNldCB0aGUgcmVwbGFjZTogdHJ1ZSBzbyB0aGUgbmF2aWdhdGlvbiB3aWxsIG5vdCBsZWF2ZSBhIGhpc3RvcnkgcmVjb3JkCiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzQ7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyNzsKICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxNik7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMTsKICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCd1c2VyL3Jlc2V0VG9rZW4nKTsKCiAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICBNZXNzYWdlLmVycm9yKF9jb250ZXh0LnQwIHx8ICdIYXMgRXJyb3InKTsgLy8gbmV4dChgL2xvZ2luP3JlZGlyZWN0PSR7dG8ucGF0aH1gKQoKICAgICAgICAgICAgbmV4dCh7CiAgICAgICAgICAgICAgcGF0aDogJy9sb2dpbicsCiAgICAgICAgICAgICAgcXVlcnk6IF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICAgICAgcmVkaXJlY3Q6IHRvLnBhdGgKICAgICAgICAgICAgICB9LCB0by5xdWVyeSkKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIE5Qcm9ncmVzcy5kb25lKCk7CgogICAgICAgICAgY2FzZSAzNDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM3OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDM2OgogICAgICAgICAgICAvKiBoYXMgbm8gdG9rZW4qLwogICAgICAgICAgICBpZiAod2hpdGVMaXN0LmluZGV4T2YodG8ucGF0aCkgIT09IC0xKSB7CiAgICAgICAgICAgICAgLy8gaW4gdGhlIGZyZWUgbG9naW4gd2hpdGVsaXN0LCBnbyBkaXJlY3RseQogICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyBvdGhlciBwYWdlcyB0aGF0IGRvIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gYWNjZXNzIGFyZSByZWRpcmVjdGVkIHRvIHRoZSBsb2dpbiBwYWdlLgogICAgICAgICAgICAgIC8vbmV4dChgL2xvZ2luP3JlZGlyZWN0PSR7dG8ucGF0aH1gKQogICAgICAgICAgICAgIG5leHQoewogICAgICAgICAgICAgICAgcGF0aDogJy9sb2dpbicsCiAgICAgICAgICAgICAgICBxdWVyeTogX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgICAgICAgIHJlZGlyZWN0OiB0by5wYXRoCiAgICAgICAgICAgICAgICB9LCB0by5xdWVyeSkKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBOUHJvZ3Jlc3MuZG9uZSgpOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSAzNzoKICAgICAgICAgICAgY29uc29sZS5sb2coJz09Pui3r+eUsemSqeWtkOe7k+adn1suL3NyYy9wZXJtaXNzaW9uLmpzXScpOwoKICAgICAgICAgIGNhc2UgMzg6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxNiwgMjddXSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIsIF94MykgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCkpOwpyb3V0ZXIuYWZ0ZXJFYWNoKGZ1bmN0aW9uICgpIHsKICAvLyBmaW5pc2ggcHJvZ3Jlc3MgYmFyCiAgTlByb2dyZXNzLmRvbmUoKTsKfSk7"},{"version":3,"sources":["D:/wwwroot/vue-admin-template/src/permission.js"],"names":["router","store","Message","NProgress","getToken","getPageTitle","configure","showSpinner","whiteList","beforeEach","to","from","next","console","log","start","document","title","meta","hasToken","path","done","hasGetUserInfo","getters","name","dispatch","result","roles","then","res","accessRoutes","permission_addRoutes","addRoutes","replace","catch","err","error","query","redirect","indexOf","afterEach"],"mappings":";;;;AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,OAAT,QAAwB,YAAxB;AACA,OAAOC,SAAP,MAAsB,WAAtB,C,CAAkC;;AAClC,OAAO,yBAAP,C,CAAiC;;AACjC,SAASC,QAAT,QAAyB,cAAzB,C,CAAwC;;AACxC,OAAOC,YAAP,MAAyB,wBAAzB;AAEAF,SAAS,CAACG,SAAV,CAAoB;AAAEC,EAAAA,WAAW,EAAE;AAAf,CAApB,E,CAA4C;;AAE5C,IAAMC,SAAS,GAAG,CAAC,QAAD,CAAlB,C,CAA6B;;AAE7BR,MAAM,CAACS,UAAP;AAAA,qEAAkB,iBAAMC,EAAN,EAAUC,IAAV,EAAgBC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AACdC,YAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ,EADc,CAEd;;AACAX,YAAAA,SAAS,CAACY,KAAV,GAHc,CAKd;;AACAC,YAAAA,QAAQ,CAACC,KAAT,GAAiBZ,YAAY,CAACK,EAAE,CAACQ,IAAH,CAAQD,KAAT,CAA7B,CANc,CAQd;;AACME,YAAAA,QATQ,GASGf,QAAQ,EATX;AAUdS,YAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA8CK,QAA9C;;AAVc,iBAWVA,QAXU;AAAA;AAAA;AAAA;;AAAA,kBAYNT,EAAE,CAACU,IAAH,KAAY,QAZN;AAAA;AAAA;AAAA;;AAaN;AACAR,YAAAA,IAAI,CAAC;AAAEQ,cAAAA,IAAI,EAAE;AAAR,aAAD,CAAJ;AACAjB,YAAAA,SAAS,CAACkB,IAAV;AAfM;AAAA;;AAAA;AAiBAC,YAAAA,cAjBA,GAiBiBrB,KAAK,CAACsB,OAAN,CAAcC,IAjB/B,EAkBN;;AAlBM,iBAmBFF,cAnBE;AAAA;AAAA;AAAA;;AAoBFV,YAAAA,IAAI;AApBF;AAAA;;AAAA;AAAA;AAAA;AAAA,mBA4BqBX,KAAK,CAACwB,QAAN,CAAe,cAAf,CA5BrB;;AAAA;AA4BMC,YAAAA,MA5BN;AA6BEb,YAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ,EAA+CY,MAA/C;AAEMC,YAAAA,KA/BR,GA+BgBD,MAAM,CAACC,KA/BvB;AAgCEd,YAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ,EAA+Ca,KAA/C;AAEA1B,YAAAA,KAAK,CAACwB,QAAN,CAAe,2BAAf,EAA4C;AAACE,cAAAA,KAAK,EAALA;AAAD,aAA5C,EAAsDC,IAAtD,CAA2D,UAACC,GAAD,EAAS;AAChE,kBAAIC,YAAY,GAAG7B,KAAK,CAACsB,OAAN,CAAcQ,oBAAjC;AACAlB,cAAAA,OAAO,CAACC,GAAR,CAAY,2DAAZ,EAAwEgB,YAAxE;AAEA9B,cAAAA,MAAM,CAACgC,SAAP,CAAiBF,YAAjB,EAJgE,CAIjC;;AAC/BlB,cAAAA,IAAI,iCAAMF,EAAN;AAAUuB,gBAAAA,OAAO,EAAE;AAAnB,iBAAJ,CALgE,CAKjC;AAClC,aAND,EAMGC,KANH,CAMS,UAAAC,GAAG,EAAI;AACZtB,cAAAA,OAAO,CAACC,GAAR,CAAYqB,GAAZ;AACH,aARD;AAUAvB,YAAAA,IAAI;AA5CN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,mBA+CQX,KAAK,CAACwB,QAAN,CAAe,iBAAf,CA/CR;;AAAA;AAgDEvB,YAAAA,OAAO,CAACkC,KAAR,CAAc,eAAS,WAAvB,EAhDF,CAiDE;;AACAxB,YAAAA,IAAI,CAAC;AAAEQ,cAAAA,IAAI,EAAE,QAAR;AAAkBiB,cAAAA,KAAK;AAAIC,gBAAAA,QAAQ,EAAE5B,EAAE,CAACU;AAAjB,iBAA0BV,EAAE,CAAC2B,KAA7B;AAAvB,aAAD,CAAJ;AACAlC,YAAAA,SAAS,CAACkB,IAAV;;AAnDF;AAAA;AAAA;;AAAA;AAwDV;AAEA,gBAAIb,SAAS,CAAC+B,OAAV,CAAkB7B,EAAE,CAACU,IAArB,MAA+B,CAAC,CAApC,EAAuC;AACnC;AACAR,cAAAA,IAAI;AACP,aAHD,MAGO;AACH;AACA;AACAA,cAAAA,IAAI,CAAC;AAAEQ,gBAAAA,IAAI,EAAE,QAAR;AAAkBiB,gBAAAA,KAAK;AAAIC,kBAAAA,QAAQ,EAAE5B,EAAE,CAACU;AAAjB,mBAA0BV,EAAE,CAAC2B,KAA7B;AAAvB,eAAD,CAAJ;AACAlC,cAAAA,SAAS,CAACkB,IAAV;AACH;;AAlES;AAoEdR,YAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;;AApEc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAuEAd,MAAM,CAACwC,SAAP,CAAiB,YAAM;AACnB;AACArC,EAAAA,SAAS,CAACkB,IAAV;AACH,CAHD","sourcesContent":["import router from './router'\nimport store from './store'\nimport { Message } from 'element-ui'\nimport NProgress from 'nprogress' // progress bar\nimport 'nprogress/nprogress.css' // progress bar style\nimport { getToken } from '@/utils/auth' // get token from cookie\nimport getPageTitle from '@/utils/get-page-title'\n\nNProgress.configure({ showSpinner: false }) // NProgress Configuration\n\nconst whiteList = ['/login'] // no redirect whitelist\n\nrouter.beforeEach(async(to, from, next) => {\n    console.log('==>路由钩子开始[./src/permission.js]')\n    // start progress bar\n    NProgress.start()\n\n    // set page title\n    document.title = getPageTitle(to.meta.title)\n\n    // determine whether the user has logged in\n    const hasToken = getToken()\n    console.log('【./src/permission.js】1、读取token：',hasToken)\n    if (hasToken) {\n        if (to.path === '/login') {\n            // if is logged in, redirect to the home page\n            next({ path: '/' })\n            NProgress.done()\n        } else {\n            const hasGetUserInfo = store.getters.name\n            //console.log('【./src/permission.js】2、vuex state user.name ：',hasGetUserInfo,typeof (hasGetUserInfo))\n            if (hasGetUserInfo) {\n                next()\n            } else {\n                try {\n                    // async函数的执行会返回一个promise 对象，并且把内部的值进行promise的封装。\n                    // 如果promise对象通过then或catch方法又注册了回调函数，async函数执行完以后，注册的回调函数就会放到异步队列中，等待执行。\n                    // await的含义为等待。意思就是代码需要等待await后面的函数运行完并且有了返回结果之后，才继续执行下面的代码，同步的效果\n\n                    // get user info\n                    let result = await store.dispatch('user/getInfo' )\n                    console.log('【./src/permission.js】2、拉取最新用户信息：',result)\n\n                    const roles = result.roles\n                    console.log('【./src/permission.js】3、获取用户所属角色：',roles)\n\n                    store.dispatch('permission/generateRoutes', {roles} ).then((res) => {\n                        let accessRoutes = store.getters.permission_addRoutes\n                        console.log('【./src/permission.js】7、使用 router.addRouters 方法 添加可访问的路由表：',accessRoutes)\n\n                        router.addRoutes(accessRoutes) // 动态添加可访问路由表\n                        next({ ...to, replace: true }) // hack方法 确保addRoutes已完成 ,set the replace: true so the navigation will not leave a history record\n                    }).catch(err => {\n                        console.log(err);\n                    });\n\n                    next()\n                } catch (error) {\n                    // remove token and go to login page to re-login\n                    await store.dispatch('user/resetToken')\n                    Message.error(error || 'Has Error')\n                    // next(`/login?redirect=${to.path}`)\n                    next({ path: '/login', query: { redirect: to.path, ...to.query }})\n                    NProgress.done()\n                }\n            }\n        }\n    } else {\n        /* has no token*/\n\n        if (whiteList.indexOf(to.path) !== -1) {\n            // in the free login whitelist, go directly\n            next()\n        } else {\n            // other pages that do not have permission to access are redirected to the login page.\n            //next(`/login?redirect=${to.path}`)\n            next({ path: '/login', query: { redirect: to.path, ...to.query }})\n            NProgress.done()\n        }\n    }\n    console.log('==>路由钩子结束[./src/permission.js]')\n})\n\nrouter.afterEach(() => {\n    // finish progress bar\n    NProgress.done()\n})\n"]}]}