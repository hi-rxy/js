{"remainingRequest":"D:\\wwwroot\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js!D:\\wwwroot\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\wwwroot\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\wwwroot\\vue-admin-template\\src\\views\\system\\configs.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\wwwroot\\vue-admin-template\\src\\views\\system\\configs.vue","mtime":1646404883932},{"path":"D:\\wwwroot\\vue-admin-template\\babel.config.js","mtime":1645316547015},{"path":"D:\\wwwroot\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645316876002},{"path":"D:\\wwwroot\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js","mtime":1645316878558},{"path":"D:\\wwwroot\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645316876002},{"path":"D:\\wwwroot\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js","mtime":1645316879025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB3YXZlcyBmcm9tICdAL2RpcmVjdGl2ZS93YXZlcyc7IC8vIHdhdmVzIGRpcmVjdGl2ZQoKaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAnQC9jb21wb25lbnRzL1BhZ2luYXRpb24nOyAvLyBzZWNvbmRhcnkgcGFja2FnZSBiYXNlZCBvbiBlbC1wYWdpbmF0aW9uCgppbXBvcnQgeyBmZXRjaENvbmZpZ0dyb3VwTGlzdCwgZmV0Y2hDb25maWdMaXN0LCBjcmVhdGVDb25maWcsIHVwZGF0ZUNvbmZpZywgZGVsZXRlQ29uZmlnLCBmZXRjaENvbmZpZ0dyb3VwRmllbGRzLCBmZXRjaENvbmZpZ0dyb3VwT25lIH0gZnJvbSAnQC9hcGkvY29uZmlnJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDb25maWdzJywKICBjb21wb25lbnRzOiB7CiAgICBQYWdpbmF0aW9uOiBQYWdpbmF0aW9uCiAgfSwKICBkaXJlY3RpdmVzOiB7CiAgICB3YXZlczogd2F2ZXMKICB9LAogIGZpbHRlcnM6IHsKICAgIHN0YXR1c0ZpbHRlcjogZnVuY3Rpb24gc3RhdHVzRmlsdGVyKHN0YXR1cykgewogICAgICB2YXIgc3RhdHVzTWFwID0gewogICAgICAgIGVuYWJsZTogJ3N1Y2Nlc3MnLAogICAgICAgIGRpc2FibGU6ICdkYW5nZXInCiAgICAgIH07CiAgICAgIHJldHVybiBzdGF0dXNNYXBbc3RhdHVzXTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDphY3nva7nu4Tpm4blkIgKICAgICAgY29uZmlnR3JvdXBMaXN0OiBudWxsLAogICAgICAvLyDlvZPliY3pgInkuK3nmoTphY3nva7nu4QKICAgICAgY29uZmlnR3JvdXBEYXRhOiBudWxsLAogICAgICAvLyDlvZPliY3pgInkuK3nmoTphY3nva7nu4TlrZfmrrXpm4blkIjmlbDmja4KICAgICAgY29uZmlnR3JvdXBGaWVsZHM6IG51bGwsCiAgICAgIC8vIOW9k+WJjemAieS4reeahOmFjee9rue7hOihqOWNleWtl+autQogICAgICBmb3JtOiBudWxsLAogICAgICAvLyDlvZPliY3mtLvliqjnmoTmoIfnrb7pobUKICAgICAgYWN0aXZlTmFtZTogJycsCiAgICAgIC8vIOihqOWNleaTjeS9nOexu+WeiwogICAgICBkaWFsb2dTdGF0dXM6ICcnLAogICAgICAvLyDliIbpobXmlbDmja7liqDovb3nirbmgIEKICAgICAgbGlzdExvYWRpbmc6IHRydWUsCiAgICAgIC8vIOm7mOiupOihqOWNleW8ueeqly3pmpDol48KICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLAogICAgICAvLyDooajljZXmj5DkuqTmjInpkq7nirbmgIEKICAgICAgYnV0dG9uU3RhdHVzOiBmYWxzZSwKICAgICAgLy8g54q25oCB5YC8CiAgICAgIHN0YXR1c09wdGlvbnM6IFsnZW5hYmxlJywgJ2Rpc2FibGUnXSwKICAgICAgLy8g6KGo5Y2V6aqM6K+B6KeE5YiZCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+WQjeensCjoi7HmlocpIGlzIHJlcXVpcmVkJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHRpdGxlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5ZCN56ewKOS4reaWhykgaXMgcmVxdWlyZWQnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIHdhdGNoOiB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8g6YWN572u57uE5YiX6KGoCiAgICAgIGZldGNoQ29uZmlnR3JvdXBMaXN0KHRoaXMubGlzdFF1ZXJ5KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmNvbmZpZ0dyb3VwTGlzdCA9IHJlc3BvbnNlLmRhdGEuaXRlbXM7CiAgICAgICAgX3RoaXMuY29uZmlnR3JvdXBEYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMuY29uZmlnR3JvdXBMaXN0WzBdKTsKICAgICAgICBfdGhpcy5hY3RpdmVOYW1lID0gX3RoaXMuY29uZmlnR3JvdXBEYXRhLm5hbWU7CgogICAgICAgIF90aGlzLmdldENvbmZpZ0dyb3VwRGF0YSgpOwoKICAgICAgICBfdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKCfmn6Xor6LlpLHotKUnKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0Q29uZmlnR3JvdXBPbmU6IGZ1bmN0aW9uIGdldENvbmZpZ0dyb3VwT25lKG5hbWUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgbG9hZGluZ0luc3RhbmNlID0gdGhpcy4kbG9hZGluZyh7CiAgICAgICAgJ3RleHQnOiAn5Yqg6L295LitJywKICAgICAgICAndGFyZ2V0JzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbmZpZy1ncm91cCcpLAogICAgICAgICdmdWxsc2NyZWVuJzogZmFsc2UsCiAgICAgICAgJ3NwaW5uZXInOiAnZWwtaWNvbi1sb2FkaW5nJywKICAgICAgICAnYmFja2dyb3VuZCc6ICdyZ2JhKDI0NSwgMjQ3LCAyNTAsIDEpJwogICAgICB9KTsgLy8g6YWN572u57uE6K+m5oOFCgogICAgICBmZXRjaENvbmZpZ0dyb3VwT25lKHsKICAgICAgICBuYW1lOiBuYW1lCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmNvbmZpZ0dyb3VwRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICBfdGhpczIuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIOS7peacjeWKoeeahOaWueW8j+iwg+eUqOeahCBMb2FkaW5nIOmcgOimgeW8guatpeWFs+mXrQogICAgICAgICAgbG9hZGluZ0luc3RhbmNlLmNsb3NlKCk7CiAgICAgICAgfSk7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzMi4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8g5Lul5pyN5Yqh55qE5pa55byP6LCD55So55qEIExvYWRpbmcg6ZyA6KaB5byC5q2l5YWz6ZetCiAgICAgICAgICBsb2FkaW5nSW5zdGFuY2UuY2xvc2UoKTsKICAgICAgICB9KTsKCiAgICAgICAgY29uc29sZS5sb2coJ+afpeivouWksei0pScpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRDb25maWdHcm91cERhdGE6IGZ1bmN0aW9uIGdldENvbmZpZ0dyb3VwRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAvLyDphY3nva7nu4TlrZfmrrXliJfooagKICAgICAgZmV0Y2hDb25maWdHcm91cEZpZWxkcyh7CiAgICAgICAgbmFtZTogdGhpcy5hY3RpdmVOYW1lCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMy5mb3JtID0gcmVzLmRhdGEuZm9ybTsKICAgICAgICBfdGhpczMuY29uZmlnR3JvdXBGaWVsZHMgPSByZXMuZGF0YS5maWVsZHM7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKCfmn6Xor6LphY3nva7nu4TlrZfmrrXlpLHotKUnKTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlUGFuZVRhYkNsaWNrOiBmdW5jdGlvbiBoYW5kbGVQYW5lVGFiQ2xpY2sob2JqLCBhY3Rpb24pIHsKICAgICAgLy8g5qCH562+6aG154K55Ye75LqL5Lu2CiAgICAgIHRoaXMuYWN0aXZlTmFtZSA9IG9iai5uYW1lOwogICAgICB0aGlzLmdldENvbmZpZ0dyb3VwT25lKG9iai5uYW1lKTsKICAgICAgdGhpcy5nZXRDb25maWdHcm91cERhdGEoKTsKICAgIH0sCiAgICByZXNldFRlbXA6IGZ1bmN0aW9uIHJlc2V0VGVtcCgpIHsKICAgICAgLy8g6YeN572u5bem5L6n6KGo5Y2VCiAgICAgIHRoaXMuZm9ybSA9IHt9OwogICAgfSwKICAgIHVwZGF0ZUNvbmZpZ0RhdGE6IGZ1bmN0aW9uIHVwZGF0ZUNvbmZpZ0RhdGEoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgLy8g5L+u5pS56YWN572u57uECiAgICAgIHRoaXMuJHJlZnNbJ2RhdGFGb3JtJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBfdGhpczQuYnV0dG9uU3RhdHVzID0gdHJ1ZTsKICAgICAgICAgIHVwZGF0ZUNvbmZpZyhPYmplY3QuYXNzaWduKHt9LCBfdGhpczQuZm9ybSkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBfdGhpczQuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsKCiAgICAgICAgICAgIF90aGlzNC4kbm90aWZ5KHsKICAgICAgICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICdDcmVhdGVkIFN1Y2Nlc3NmdWxseScsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXM0LmdldENvbmZpZ0dyb3VwRGF0YSgpOwoKICAgICAgICAgICAgX3RoaXM0LmJ1dHRvblN0YXR1cyA9IGZhbHNlOwogICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIF90aGlzNC5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICBfdGhpczQuYnV0dG9uU3RhdHVzID0gdHJ1ZTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,sC,CAAA;;AACA,iD,CAAA;;AACA,SACAA,oBADA,EAEAC,eAFA,EAGAC,YAHA,EAIAC,YAJA,EAKAC,YALA,EAMAC,sBANA,EAOAC,mBAPA,QAQA,cARA;AAUA;AACAC,iBADA;AAEAC;AAAAC;AAAA,GAFA;AAGAC;AAAAC;AAAA,GAHA;AAIAC;AACAC,gBADA,wBACAC,MADA,EACA;AACA;AACAC,yBADA;AAEAC;AAFA;AAIA;AACA;AAPA,GAJA;AAaAC,MAbA,kBAaA;AACA;AACA;AACAC,2BAFA;AAGA;AACAC,2BAJA;AAKA;AACAC,6BANA;AAOA;AACAC,gBARA;AASA;AACAC,oBAVA;AAWA;AACAC,sBAZA;AAaA;AACAC,uBAdA;AAeA;AACAC,8BAhBA;AAiBA;AACAC,yBAlBA;AAmBA;AACAC,0CApBA;AAqBA;AACAC;AACArB;AAAAsB;AAAAC;AAAAC;AAAA,UADA;AAEAC;AAAAH;AAAAC;AAAAC;AAAA;AAFA;AAtBA;AA2BA,GAzCA;AA0CAE,WA1CA;AA2CAC,SA3CA,qBA2CA;AACA;AACA,GA7CA;AA8CAC;AACAC,WADA,qBACA;AAAA;;AACA;AACApC;AACA;AACA;AACA;;AACA;;AACA;AACA,OANA,EAMA;AACA;AACAqC;AACA,OATA;AAUA,KAbA;AAcAC,qBAdA,6BAcA/B,IAdA,EAcA;AAAA;;AACA;AACA,qBADA;AAEA,yDAFA;AAGA,2BAHA;AAIA,oCAJA;AAKA;AALA,SADA,CAQA;;AACAD;AAAAC;AAAA;AACA;;AACA;AAAA;AACAgC;AACA,SAFA;AAGA,OALA,EAKA;AACA;AAAA;AACAA;AACA,SAFA;;AAGAF;AACA,OAVA;AAWA,KAlCA;AAmCAG,sBAnCA,gCAmCA;AAAA;;AACA;AACAnC;AAAAE;AAAA;AACA;AACA;AACA,OAHA,EAGA;AACA8B;AACA,OALA;AAMA,KA3CA;AA4CAI,sBA5CA,8BA4CAC,GA5CA,EA4CAC,MA5CA,EA4CA;AACA;AACA;AACA;AACA;AACA,KAjDA;AAkDAC,aAlDA,uBAkDA;AACA;AACA;AACA,KArDA;AAsDAC,oBAtDA,8BAsDA;AAAA;;AACA;AACA;AACA;AACA;AACA1C;AACA;;AACA;AACA6B,8BADA;AAEAF,6CAFA;AAGAgB,6BAHA;AAIAC;AAJA;;AAMA;;AACA;AACA,WAVA,EAUA;AACA;AACA;AACA,WAbA;AAcA;AACA,OAlBA;AAmBA;AA3EA;AA9CA","names":["fetchConfigGroupList","fetchConfigList","createConfig","updateConfig","deleteConfig","fetchConfigGroupFields","fetchConfigGroupOne","name","components","Pagination","directives","waves","filters","statusFilter","status","enable","disable","data","configGroupList","configGroupData","configGroupFields","form","activeName","dialogStatus","listLoading","dialogFormVisible","buttonStatus","statusOptions","rules","required","message","trigger","title","watch","created","methods","getList","console","getConfigGroupOne","loadingInstance","getConfigGroupData","handlePaneTabClick","obj","action","resetTemp","updateConfigData","type","duration"],"sourceRoot":"src/views/system","sources":["configs.vue"],"sourcesContent":["<template>\n    <div class=\"app-container\">\n        <el-row :gutter=\"20\">\n            <el-col :span=\"24\">\n                <el-card class=\"box-card\">\n                    <template>\n                        <el-tabs class=\"config-group\" v-model=\"activeName\" @tab-click=\"handlePaneTabClick\">\n                            <el-tab-pane v-for=\"item in configGroupList\" :key=\"item.id\" :label=\"item.title\"\n                                         :name=\"item.name\"\n                            >\n                                <el-col :span=\"24\">\n                                    <el-card class=\"box-card\">\n                                        <el-form v-loading=\"listLoading\" ref=\"dataForm\" :rules=\"rules\" :model=\"form\"\n                                                 label-position=\"right\" label-width=\"220px\"\n                                                 style=\"width: 600px; \"\n                                        >\n                                            <el-form-item v-for=\"(item,index) in configGroupFields\"\n                                                          :label=\"item.title\" :prop=\"item.name\"\n                                            >\n                                                <el-input v-model=\"item.value\"/>\n                                            </el-form-item>\n                                        </el-form>\n                                    </el-card>\n                                </el-col>\n                            </el-tab-pane>\n                        </el-tabs>\n                    </template>\n                </el-card>\n            </el-col>\n        </el-row>\n    </div>\n</template>\n<script>\nimport waves from '@/directive/waves' // waves directive\nimport Pagination from '@/components/Pagination'// secondary package based on el-pagination\nimport {\n    fetchConfigGroupList,\n    fetchConfigList,\n    createConfig,\n    updateConfig,\n    deleteConfig,\n    fetchConfigGroupFields,\n    fetchConfigGroupOne\n} from '@/api/config'\n\nexport default {\n    name: 'Configs',\n    components: { Pagination },\n    directives: { waves },\n    filters: {\n        statusFilter(status) {\n            const statusMap = {\n                enable: 'success',\n                disable: 'danger'\n            }\n            return statusMap[status]\n        }\n    },\n    data() {\n        return {\n            // 配置组集合\n            configGroupList: null,\n            // 当前选中的配置组\n            configGroupData: null,\n            // 当前选中的配置组字段集合数据\n            configGroupFields: null,\n            // 当前选中的配置组表单字段\n            form: null,\n            // 当前活动的标签页\n            activeName: '',\n            // 表单操作类型\n            dialogStatus: '',\n            // 分页数据加载状态\n            listLoading: true,\n            // 默认表单弹窗-隐藏\n            dialogFormVisible: false,\n            // 表单提交按钮状态\n            buttonStatus: false,\n            // 状态值\n            statusOptions: ['enable', 'disable'],\n            // 表单验证规则\n            rules: {\n                name: [{ required: true, message: '名称(英文) is required', trigger: 'blur' }],\n                title: [{ required: true, message: '名称(中文) is required', trigger: 'blur' }]\n            }\n        }\n    },\n    watch: {},\n    created() {\n        this.getList()\n    },\n    methods: {\n        getList() {\n            // 配置组列表\n            fetchConfigGroupList(this.listQuery).then(response => {\n                this.configGroupList = response.data.items\n                this.configGroupData = Object.assign({}, this.configGroupList[0])\n                this.activeName = this.configGroupData.name\n                this.getConfigGroupData()\n                this.listLoading = false\n            }, error => {\n                this.listLoading = false\n                console.log('查询失败')\n            })\n        },\n        getConfigGroupOne(name) {\n            let loadingInstance = this.$loading({\n                'text': '加载中',\n                'target': document.querySelector('.config-group'),\n                'fullscreen': false,\n                'spinner': 'el-icon-loading',\n                'background': 'rgba(245, 247, 250, 1)'\n            })\n            // 配置组详情\n            fetchConfigGroupOne({ name: name }).then(response => {\n                this.configGroupData = Object.assign({},response.data)\n                this.$nextTick(() => { // 以服务的方式调用的 Loading 需要异步关闭\n                    loadingInstance.close()\n                })\n            }, error => {\n                this.$nextTick(() => { // 以服务的方式调用的 Loading 需要异步关闭\n                    loadingInstance.close()\n                })\n                console.log('查询失败')\n            })\n        },\n        getConfigGroupData() {\n            // 配置组字段列表\n            fetchConfigGroupFields({ name: this.activeName }).then((res) => {\n                this.form = res.data.form\n                this.configGroupFields = res.data.fields\n            }, error => {\n                console.log('查询配置组字段失败')\n            })\n        },\n        handlePaneTabClick(obj, action) {\n            // 标签页点击事件\n            this.activeName = obj.name\n            this.getConfigGroupOne(obj.name)\n            this.getConfigGroupData()\n        },\n        resetTemp() {\n            // 重置左侧表单\n            this.form = {}\n        },\n        updateConfigData() {\n            // 修改配置组\n            this.$refs['dataForm'].validate((valid) => {\n                if (valid) {\n                    this.buttonStatus = true\n                    updateConfig(Object.assign({}, this.form)).then((res) => {\n                        this.dialogFormVisible = false\n                        this.$notify({\n                            title: 'Success',\n                            message: 'Created Successfully',\n                            type: 'success',\n                            duration: 2000\n                        })\n                        this.getConfigGroupData()\n                        this.buttonStatus = false\n                    }, error => {\n                        this.dialogFormVisible = false\n                        this.buttonStatus = true\n                    })\n                }\n            })\n        }\n    }\n}\n</script>\n"]}]}