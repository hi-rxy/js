{"remainingRequest":"D:\\wwwroot\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js!D:\\wwwroot\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\wwwroot\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\wwwroot\\vue-admin-template\\src\\views\\system\\table.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\wwwroot\\vue-admin-template\\src\\views\\system\\table.vue","mtime":1646222683951},{"path":"D:\\wwwroot\\vue-admin-template\\babel.config.js","mtime":1645316547015},{"path":"D:\\wwwroot\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645316876002},{"path":"D:\\wwwroot\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js","mtime":1645316878558},{"path":"D:\\wwwroot\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645316876002},{"path":"D:\\wwwroot\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js","mtime":1645316879025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGZldGNoTGlzdCB9IGZyb20gJ0AvYXBpL3RhYmxlJzsKaW1wb3J0IHdhdmVzIGZyb20gJ0AvZGlyZWN0aXZlL3dhdmVzJzsgLy8gd2F2ZXMgZGlyZWN0aXZlCgppbXBvcnQgUGFnaW5hdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvUGFnaW5hdGlvbic7IC8vIHNlY29uZGFyeSBwYWNrYWdlIGJhc2VkIG9uIGVsLXBhZ2luYXRpb24KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVGFibGUnLAogIGNvbXBvbmVudHM6IHsKICAgIFBhZ2luYXRpb246IFBhZ2luYXRpb24KICB9LAogIGRpcmVjdGl2ZXM6IHsKICAgIHdhdmVzOiB3YXZlcwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDmn6Xor6IKICAgICAgbGlzdFF1ZXJ5OiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMTAsCiAgICAgICAgc29ydDogJy1DcmVhdGVfdGltZScKICAgICAgfSwKICAgICAgLy8g5YiG6aG15pWw5o2uCiAgICAgIGxpc3Q6IG51bGwsCiAgICAgIC8vIOWIhumhteaVsOaNruWKoOi9veeKtuaAgQogICAgICBsaXN0TG9hZGluZzogdHJ1ZQogICAgfTsKICB9LAogIHdhdGNoOiB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8g5p2D6ZmQ5YiX6KGoCiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSB0cnVlOwogICAgICBmZXRjaExpc3QodGhpcy5saXN0UXVlcnkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMubGlzdCA9IHJlc3BvbnNlLmRhdGEuaXRlbXM7CiAgICAgICAgX3RoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsOwogICAgICAgIF90aGlzLmxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzLmxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0RmlsdGVyOiBmdW5jdGlvbiByZXNldEZpbHRlcigpIHsKICAgICAgLy8g6YeN572u5p+l6K+iCiAgICAgIHRoaXMubGlzdFF1ZXJ5ID0gewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgbGltaXQ6IDEwLAogICAgICAgIHNvcnQ6ICctQ3JlYXRlX3RpbWUnCiAgICAgIH07CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIGhhbmRsZUZpbHRlcjogZnVuY3Rpb24gaGFuZGxlRmlsdGVyKCkgewogICAgICAvLyDngrnlh7vmn6Xor6IKICAgICAgdGhpcy5saXN0UXVlcnkucGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIHNvcnRDaGFuZ2U6IGZ1bmN0aW9uIHNvcnRDaGFuZ2UoZGF0YSkgewogICAgICAvLyDorr7nva7mjpLluo8KICAgICAgdmFyIHByb3AgPSBkYXRhLnByb3AsCiAgICAgICAgICBvcmRlciA9IGRhdGEub3JkZXI7CiAgICAgIHRoaXMuc29ydEJ5Q29sdW1uKG9yZGVyLCBwcm9wKTsKICAgIH0sCiAgICBzb3J0QnlDb2x1bW46IGZ1bmN0aW9uIHNvcnRCeUNvbHVtbihvcmRlciwgcHJvcCkgewogICAgICBpZiAob3JkZXIgPT09ICdhc2NlbmRpbmcnKSB7CiAgICAgICAgdGhpcy5saXN0UXVlcnkuc29ydCA9ICcrJyArIHByb3A7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5saXN0UXVlcnkuc29ydCA9ICctJyArIHByb3A7CiAgICAgIH0KCiAgICAgIHRoaXMuaGFuZGxlRmlsdGVyKCk7CiAgICB9LAogICAgZ2V0U29ydENsYXNzOiBmdW5jdGlvbiBnZXRTb3J0Q2xhc3Moa2V5KSB7CiAgICAgIC8vIOaOkuW6jwogICAgICB2YXIgc29ydCA9IHRoaXMubGlzdFF1ZXJ5LnNvcnQ7CiAgICAgIHJldHVybiBzb3J0ID09PSAiKyIuY29uY2F0KGtleSkgPyAnYXNjZW5kaW5nJyA6ICdkZXNjZW5kaW5nJzsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;AACA,sC,CAAA;;AACA,iD,CAAA;;AAEA;AACAA,eADA;AAEAC;AAAAC;AAAA,GAFA;AAGAC;AAAAC;AAAA,GAHA;AAIAC,MAJA,kBAIA;AACA;AACAC,cADA;AAEA;AACAC;AACAC,eADA;AAEAC,iBAFA;AAGAC;AAHA,OAHA;AAQA;AACAC,gBATA;AAUA;AACAC;AAXA;AAaA,GAlBA;AAmBAC,WAnBA;AAoBAC,SApBA,qBAoBA;AACA;AACA,GAtBA;AAuBAC;AACAC,WADA,qBACA;AAAA;;AACA;AACA;AACAC;AACA;AACA;AACA;AACA,OAJA,EAIA;AACA;AACA,OANA;AAOA,KAXA;AAYAC,eAZA,yBAYA;AACA;AACA;AACAV,eADA;AAEAC,iBAFA;AAGAC;AAHA;AAKA;AACA,KApBA;AAqBAS,gBArBA,0BAqBA;AACA;AACA;AACA;AACA,KAzBA;AA0BAC,cA1BA,sBA0BAf,IA1BA,EA0BA;AACA;AACA;AAAA;AACA;AACA,KA9BA;AA+BAgB,gBA/BA,wBA+BAC,KA/BA,EA+BAC,IA/BA,EA+BA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AACA;AACA,KAtCA;AAuCAC;AACA;AACA;AACA;AACA;AA3CA;AAvBA","names":["name","components","Pagination","directives","waves","data","total","listQuery","page","limit","sort","list","listLoading","watch","created","methods","getList","fetchList","resetFilter","handleFilter","sortChange","sortByColumn","order","prop","getSortClass"],"sourceRoot":"src/views/system","sources":["table.vue"],"sourcesContent":["<template>\n    <div class=\"app-container\">\n        <el-row :gutter=\"20\">\n            <el-col :span=\"24\">\n                <el-card class=\"box-card\">\n                    <!--  搜索开始  -->\n                    <div class=\"filter-container\" style=\"margin-bottom: 15px;\">\n                        <el-input v-model=\"listQuery.Name\" placeholder=\"表名称\" style=\"width: 200px;\"\n                                  class=\"filter-item\" @keyup.enter.native=\"handleFilter\"\n                        />\n                        <el-button v-waves class=\"filter-item\" style=\"margin-left: 10px;\" type=\"primary\"\n                                   icon=\"el-icon-search\" @click=\"handleFilter\"\n                        >\n                            搜索\n                        </el-button>\n                        <el-button v-waves class=\"filter-item\" style=\"margin-left: 10px;\" type=\"primary\"\n                                   icon=\"el-icon-refresh\" @click=\"resetFilter\"\n                        >\n                            清除\n                        </el-button>\n                    </div>\n                    <!--  搜索结束  -->\n\n                    <!--  表格开始  -->\n                    <el-table\n                        :key=\"0\"\n                        v-loading=\"listLoading\"\n                        element-loading-text=\"拼命加载中\"\n                        element-loading-spinner=\"el-icon-loading\"\n                        element-loading-background=\"rgba(245, 247, 250, 1)\"\n                        :data=\"list\"\n                        border\n                        fit\n                        highlight-current-row\n                        style=\"width: 100%;\"\n                        @sort-change=\"sortChange\"\n                    >\n                        <!--  字段开始    -->\n                        <el-table-column label=\"表名\" prop=\"Name\"  align=\"center\">\n                            <template slot-scope=\"{row}\">\n                                <span>{{ row.Name }}</span>\n                            </template>\n                        </el-table-column>\n                        <el-table-column label=\"存储引擎\" align=\"center\">\n                            <template slot-scope=\"{row}\">\n                                <span>{{ row.Engine }}</span>\n                            </template>\n                        </el-table-column>\n                        <el-table-column label=\"行格式\" align=\"center\">\n                            <template slot-scope=\"{row}\">\n                                <span>{{ row.Row_format }}</span>\n                            </template>\n                        </el-table-column>\n                        <el-table-column label=\"表中的行数\" align=\"center\">\n                            <template slot-scope=\"{row}\">\n                                <span>{{ row.Rows }}</span>\n                            </template>\n                        </el-table-column>\n                        <el-table-column label=\"整个表的数据量\" align=\"center\">\n                            <template slot-scope=\"{row}\">\n                                <span>{{ row.Data_length }}</span>\n                            </template>\n                        </el-table-column>\n                        <el-table-column label=\"下一个自增的值\" align=\"center\">\n                            <template slot-scope=\"{row}\">\n                                <span>{{ row.Auto_increment }}</span>\n                            </template>\n                        </el-table-column>\n                        <el-table-column label=\"注释\" align=\"center\">\n                            <template slot-scope=\"{row}\">\n                                <span>{{ row.Comment }}</span>\n                            </template>\n                        </el-table-column>\n                        <el-table-column label=\"字符集\" align=\"center\">\n                            <template slot-scope=\"{row}\">\n                                <span>{{ row.Collation }}</span>\n                            </template>\n                        </el-table-column>\n                        <el-table-column label=\"创建时间\" align=\"center\" sortable=\"custom\" prop=\"Create_time\" :class-name=\"getSortClass('Create_time')\">\n                            <template slot-scope=\"{row}\">\n                                <span style=\"font-size: 8px\">{{ row.Create_time }}</span>\n                            </template>\n                        </el-table-column>\n                        <el-table-column label=\"修改时间\" align=\"center\" sortable=\"custom\" prop=\"Update_time\" :class-name=\"getSortClass('Update_time')\">\n                            <template slot-scope=\"{row}\">\n                                <span style=\"font-size: 8px\">{{ row.Update_time }}</span>\n                            </template>\n                        </el-table-column>\n                        <!--  字段结束   -->\n                        <!--  操作开始   -->\n                        <el-table-column label=\"操作\" align=\"center\" width=\"150px\" class-name=\"small-padding fixed-width\">\n                            <template slot-scope=\"{row,$index}\">\n                                <el-button round type=\"primary\" size=\"mini\" @click=\"handleOptimize(row)\">\n                                    优化\n                                </el-button>\n                                <el-button round size=\"mini\" type=\"danger\" @click=\"handleDelete(row,$index)\">\n                                    修复\n                                </el-button>\n                            </template>\n                        </el-table-column>\n                        <!--  操作结束   -->\n                    </el-table>\n                    <!--  表格结束  -->\n\n                    <!--  分页开始  -->\n                    <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"listQuery.page\"\n                                :limit.sync=\"listQuery.limit\" @pagination=\"getList\"\n                    />\n                    <!--  分页结束  -->\n                </el-card>\n            </el-col>\n        </el-row>\n    </div>\n</template>\n\n<script>\nimport { fetchList } from '@/api/table'\nimport waves from '@/directive/waves' // waves directive\nimport Pagination from '@/components/Pagination' // secondary package based on el-pagination\n\nexport default {\n    name: 'Table',\n    components: { Pagination },\n    directives: { waves },\n    data() {\n        return {\n            total: 0,\n            // 查询\n            listQuery: {\n                page: 1,\n                limit: 10,\n                sort: '-Create_time'\n            },\n            // 分页数据\n            list: null,\n            // 分页数据加载状态\n            listLoading: true\n        }\n    },\n    watch: {},\n    created() {\n        this.getList()\n    },\n    methods: {\n        getList() {\n            // 权限列表\n            this.listLoading = true\n            fetchList(this.listQuery).then(response => {\n                this.list = response.data.items\n                this.total = response.data.total\n                this.listLoading = false\n            },error => {\n                this.listLoading = false\n            })\n        },\n        resetFilter() {\n            // 重置查询\n            this.listQuery = {\n                page: 1,\n                limit: 10,\n                sort: '-Create_time'\n            }\n            this.getList()\n        },\n        handleFilter() {\n            // 点击查询\n            this.listQuery.page = 1\n            this.getList()\n        },\n        sortChange(data) {\n            // 设置排序\n            const { prop, order } = data\n            this.sortByColumn(order, prop)\n        },\n        sortByColumn(order, prop) {\n            if (order === 'ascending') {\n                this.listQuery.sort = '+' + prop\n            } else {\n                this.listQuery.sort = '-' + prop\n            }\n            this.handleFilter()\n        },\n        getSortClass: function(key) {\n            // 排序\n            const sort = this.listQuery.sort\n            return sort === `+${key}` ? 'ascending' : 'descending'\n        }\n    }\n}\n</script>\n"]}]}