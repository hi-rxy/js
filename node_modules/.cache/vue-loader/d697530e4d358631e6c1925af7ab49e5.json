{"remainingRequest":"D:\\wwwroot\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\wwwroot\\vue-admin-template\\src\\views\\profile\\components\\Account.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\wwwroot\\vue-admin-template\\src\\views\\profile\\components\\Account.vue","mtime":1645966993222},{"path":"D:\\wwwroot\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645316876002},{"path":"D:\\wwwroot\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js","mtime":1645316878558},{"path":"D:\\wwwroot\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645316876002},{"path":"D:\\wwwroot\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js","mtime":1645316879025}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgeyB1cGRhdGVBZG1pbiB9IGZyb20gJ0AvYXBpL2FkbWluJwppbXBvcnQgeyBnZXRJbmZvIH0gZnJvbSAnQC9hcGkvdXNlcicKCmV4cG9ydCBkZWZhdWx0IHsKICAgIHByb3BzOiB7CiAgICAgICAgdXNlcjogewogICAgICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgICAgICAgICAgZW1haWw6ICcnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICAuLi5tYXBHZXR0ZXJzKFsKICAgICAgICAgICAgJ3Rva2VuJwogICAgICAgIF0pCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGFzeW5jIHVzZXJJbmZvKCkgewogICAgICAgICAgICByZXR1cm4gYXdhaXQgZ2V0SW5mbyh0aGlzLnRva2VuKQogICAgICAgIH0sCiAgICAgICAgc3VibWl0KCkgewogICAgICAgICAgICB0aGlzLnVzZXJJbmZvKCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YQogICAgICAgICAgICAgICAgZGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHsgbmFtZTogdGhpcy51c2VyLm5hbWUsIGVtYWlsOiB0aGlzLnVzZXIuZW1haWwgfSwgeyBpZDogZGF0YS5pZCxzdGF0dXM6ZGF0YS5zdGF0dXMgfSkKCiAgICAgICAgICAgICAgICB1cGRhdGVBZG1pbihkYXRhKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1VzZXIgaW5mb3JtYXRpb24gaGFzIGJlZW4gdXBkYXRlZCBzdWNjZXNzZnVsbHknLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMiAqIDEwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmVycm9yKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["Account.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Account.vue","sourceRoot":"src/views/profile/components","sourcesContent":["<template>\n    <el-form>\n        <el-form-item label=\"Name\">\n            <el-input v-model.trim=\"user.name\"/>\n        </el-form-item>\n        <el-form-item label=\"Email\">\n            <el-input v-model.trim=\"user.email\"/>\n        </el-form-item>\n        <el-form-item>\n            <el-button type=\"primary\" @click=\"submit\">Update</el-button>\n        </el-form-item>\n    </el-form>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport { updateAdmin } from '@/api/admin'\nimport { getInfo } from '@/api/user'\n\nexport default {\n    props: {\n        user: {\n            type: Object,\n            default: () => {\n                return {\n                    name: '',\n                    email: ''\n                }\n            }\n        }\n    },\n    computed: {\n        ...mapGetters([\n            'token'\n        ])\n    },\n    methods: {\n        async userInfo() {\n            return await getInfo(this.token)\n        },\n        submit() {\n            this.userInfo().then(res => {\n                let data = res.data\n                data = Object.assign({}, { name: this.user.name, email: this.user.email }, { id: data.id,status:data.status })\n\n                updateAdmin(data).then((res) => {\n                        if (res.code == 200) {\n                            this.$message({\n                                message: 'User information has been updated successfully',\n                                type: 'success',\n                                duration: 2 * 1000\n                            })\n                        }\n                }).catch((response) => {\n                    console.log(response.error)\n                })\n            })\n        }\n    }\n}\n</script>\n"]}]}